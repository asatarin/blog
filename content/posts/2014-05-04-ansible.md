---
date: 2014-05-04T00:00:00Z
title: Система управления конфигурациями Ansible
url: /2014/05/04/ansible.html
---

Системы управления конфигурациями это инструмент, который позволяет автоматически настраивать
систему под определенную задачу. Например вы устанавливаете операционную систему
на свой сервер, пишете рецепт для настройки почтового сервера на одной из таких систем
(Chef, Puppet, CFengine или Ansible) или даже берёте готовый рецепт, потом запускаете его
и получаете полностью настроенный сервер. Плюс такого подхода в том, что исключается
ручное взаимодействие с сервером, увеличивается воспроизводимость.

Из всех подобных систем мне больше всего нравился [Ansible](http://www.ansible.com/home). Из её плюсов я бы выделил следующие:

* это agentless система, т.е. на удалённый компьютер не нужно устанавливать никаких дополнительный приложений
* для создания сценариев используется YAML
* в качестве транспорта используется ssh

Я давно хотел его попробовать в деле, но всё не находилось подходящей задачи.
И тут как раз подвернулся случай: мне с некоторой периодичностью
нужно настраивать окружение для портирования приложений в OpenBSD.
Нужно каждый раз делать одни и те же действия:

* установить необходимые пакеты
* настроить пару репозиториев
* отредактировать конфигурационные файлы

и я решил это автоматизировать.

Получился такой сценарий - [Github](https://github.com/ligurio/ansible-playbook-openbsd).

<br>

Я записал небольшое демо на asciinema, чтобы можно было посмотреть как это выглядит,
даже если у вас нет под рукой OpenBSD и установленного ansible :)

<script type="text/javascript" src="https://asciinema.org/a/9221.js" id="asciicast-9221" async></script>

Кстати, [asciinema](https://asciinema.org/) - отличный инструмент для записи скринкастов в терминале.
До сих пор не понимаю, почему люди записывают полноценное видео для таких целей.
Вот [ещё скринкаст](https://asciinema.org/a/9296) с моим любимым скринсейвером
[ascii aquarium](http://www.robobunny.com/projects/asciiquarium/html/).
